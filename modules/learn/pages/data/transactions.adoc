= Transactions

[abstract]
_Distributed ACID Transactions_ guarantee that multiple documents can be updated atomically.

[#transactions-and-couchbase-server]
== Transactions and Couchbase Server

_Transactions_ are operations that ensure that when multiple discrete data-elements need to be modified such that only the successful modification of all justifies the modification of any, _either_ all the modifications do occur successfully; _or_ none of them occurs.
Transactions are implemented by Couchbase Server as _Distributed ACID Transactions_.
These require the Couchbase xref:3.0@java-sdk::start-using-sdk.adoc[Java SDK], version 3.0 or after.

A Distributed ACID Transaction can be performed on any number of documents.
For each document, the transaction makes a copy of the document-data, and saves the copy temporarily in the xref:learn:data/extended-attributes.adoc[Extended Attributes] area of the document's meta data.
Updates and modifications are then made to the key-value pairs contained by this meta data copy: consequently, the changes progressively made by the authorial transaction &#8212; which constitute uncommitted (or _dirty_) data &#8212; are non-readable by any operation other than this transaction itself.
Only following _commit_ of the documents modified by the transaction do the corresponding changes become readable by other transactions and operations.
This isolation-level is known as https://jepsen.io/consistency/models/read-committed[Read Committed].

Note also that no two Distributed ACID Transactions can access the same document at the same time.
If such an attempt occurs, only one of the transactions can proceed; while the other must await commitment of the data, before being able to modify it.

A Distributed ACID Transaction reads data from the documents it is itself modifying according to the https://jepsen.io/consistency/models/monotonic-atomic-view[Monotonic Atomic View] model.

Commits to Couchbase Server are made by Distributed ACID Transactions by means of _durable writes_, which constitute Couchbase Server's implementation of xref:learn:data/durability.adoc[Durability].
Each commit provides _eventual consistency_, which is consistent with the _single-document write_ model of durable writes. 
